# Secrets for TroupeIT Documentation Site deployment
# Uses 1Password to fetch registry credentials
#
# This file is safe for git - no raw credentials are stored here.
# Credentials are fetched at deploy time from 1Password.

# Fetch registry password from 1Password
SECRETS=$(kamal secrets fetch --adapter 1password --account my.1password.com --from troupeit/Production KAMAL_REGISTRY_PASSWORD)

# Extract the registry password for use in config/deploy.yml
REGISTRY_PASSWORD=$(kamal secrets extract KAMAL_REGISTRY_PASSWORD $SECRETS)
